"use strict";var Bots=Bots||{};Bots.Minimap=function(t,i,o,a){var s=t.game.width-Bots.minimapPadding.x-Bots.minimapWidth,e=Bots.minimapPadding.y;Phaser.Graphics.call(this,t.game,s,e),this.state=t,this.name=i,this.alpha=a.alpha,this.fixedToCamera=!0,this.properties=a,this.state.prefabs[i]=this,a.group&&this.state.groups[a.group].add(this)},Bots.Minimap.prototype=Object.create(Phaser.Graphics.prototype),Bots.Minimap.prototype.constructor=Bots.Minimap,Bots.Minimap.prototype.update=function(){var t=this;this.clear(),this.drawRectangle(0,0,Bots.minimapWidth,Bots.minimapHeight),this.state.groups.robots.forEachAlive(function(i){return t.drawMinimapObject(i,t.getRobotMinimapColor(i),i.boss?5:3)}),this.state.groups.chests.forEachAlive(function(i){return t.drawMinimapObject(i,65280)}),this.state.groups.oil.forEachAlive(function(i){return t.drawMinimapObject(i,16711935)})},Bots.Minimap.prototype.drawRectangle=function(t,i,o,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;this.beginFill(s),this.drawRect(t,i,o,a),this.endFill()},Bots.Minimap.prototype.drawMinimapObject=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16777215,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=t.world.x+Bots.worldSize.x/2,s=t.world.y+Bots.worldSize.y/2,e=a/(1*Bots.worldSize.x)*Bots.minimapWidth,r=s/(1*Bots.worldSize.y)*Bots.minimapHeight;this.drawRectangle(e-(o-1)/2,r-(o-1)/2,o,o,i)},Bots.Minimap.prototype.getRobotMinimapColor=function(t){if(t)return t.human?255:t.boss?16711680:16777215};